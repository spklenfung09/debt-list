{% extends 'debt/index.html' %}
{% load static %}
{% load humanize %}
{% block content %}

<input type="hidden" name="customer-id" value="{{customer.id}}">
<input type="hidden" name="customer-name" value="{{customer.name}}">

<div class="jumbotron mb-2 py-2 pb-4 px-4 rounded">
	<div class="d-flex justify-content-between align-items-center">
		<h2 class="p-2">{{customer.name}}</h2>
		<div class="btn-group dropleft" id="dropdiv">
		  <button class="btn btn-success dropdown-toggle"
		          type="button" id="dropdownMenu">
		    <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-grid-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
			  <path fill-rule="evenodd" d="M1 2.5A1.5 1.5 0 0 1 2.5 1h3A1.5 1.5 0 0 1 7 2.5v3A1.5 1.5 0 0 1 5.5 7h-3A1.5 1.5 0 0 1 1 5.5v-3zm8 0A1.5 1.5 0 0 1 10.5 1h3A1.5 1.5 0 0 1 15 2.5v3A1.5 1.5 0 0 1 13.5 7h-3A1.5 1.5 0 0 1 9 5.5v-3zm-8 8A1.5 1.5 0 0 1 2.5 9h3A1.5 1.5 0 0 1 7 10.5v3A1.5 1.5 0 0 1 5.5 15h-3A1.5 1.5 0 0 1 1 13.5v-3zm8 0A1.5 1.5 0 0 1 10.5 9h3a1.5 1.5 0 0 1 1.5 1.5v3a1.5 1.5 0 0 1-1.5 1.5h-3A1.5 1.5 0 0 1 9 13.5v-3z"/>
			</svg>
		  </button>
		  <div class="dropdown-menu">
	  	 	<a class="dropdown-item" data-toggle="modal" data-target="#newTransactionModal" id="newTransaction">
		    	Add transaction
		    </a>
		    <a class="dropdown-item"data-toggle="modal" data-target="#editCustomerModal">		Edit customer
		    </a>
		  </div>
		</div>
	</div>
	<input type="hidden" id="customer-id" value="{{customer.id}}">
	<p class="m-0 px-2" id="data-unpaid">Unpaid: <span>â‚±{{unpaid | intcomma }}</span></p>
</div>
<div class="jumbotron my-2" id="transaction-list" style="min-height: 400px; max-height: 400px; overflow-y: auto">
	<!-- Transactions Here -->
</div>

{% include 'debt/new_transaction_modal.html'%}
{% include 'debt/edit_delete_transaction_modal.html' %}
{% endblock %}

{% block js %}
<script type="text/javascript" src="{% static 'debt/js/customer_profile.js' %}"></script>
{% endblock %}
